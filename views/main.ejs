<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>College Intake Dashboard</title>
  </head>
  <body>
    <h1>College Intake Dashboard</h1>

    <form action="/view_data" method="post">
      <label for="college">Select College:</label>
      <select id="college" name="college">
        <option value="all">All</option>
        <option value="vit">VIT</option>
        <option value="viit">VIIT</option>
        <option value="vu">VU</option>
      </select>
      <br /><br />

      <label for="branch">Select Branch:</label>
      <select id="branch" name="branch">
        <option value="all">All</option>
        <option value="cs">Computer Science(CS)</option>
        <option value="it">Information Technology (IT)</option>
        <option value="entc">Electronics and Telecommunication (ENTC)</option>
        <option value="civil">Civil Engineering</option>
        <option value="mech">Mechanical Engineering</option>
      </select>
      <br /><br />

      <label for="seat_type">Seat Type:</label>
      <select id="seat_type" name="seat_type">
        <option value="NRI">NRI</option>
        <option value="OCI">OCI</option>
        <option value="FN">FN</option>
        <option value="PIO">PIO</option>
        <option value="CIWGC">CIWGC</option>

        <!-- Add more options if needed -->
      </select>
      <br /><br />

      <button type="submit">View Available Seats</button>
    </form>

    <% if ( typeof data !== 'undefined' && data.local) { %>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>College</th>
          <th>Branch</th>
          <th>Seat Type</th>
          <th>Intake</th>
          <th>Filled</th>
          <th>Vacant</th>
        </tr>
      </thead>
      <tbody>
        <% data.local.forEach(function(row) { %>
        <tr>
          <td><%= row.id %></td>
          <td><%= row.college %></td>
          <td><%= row.branch %></td>
          <td><%= row.seat_type %></td>
          <td><%= row.intake %></td>
          <td><%= row.filled %></td>
          <td><%= row.vacant %></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <% } %>
  </body>
</html>
